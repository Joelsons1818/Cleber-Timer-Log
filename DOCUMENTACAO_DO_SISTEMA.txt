DOCUMENTACAO COMPLETA DO SISTEMA - CLEVER DRIPPER TIMER (V2)
==========================================================
Data: 18/02/2026
Autor: Antigravity (Google Deepmind) para Daniel Joelsons

SOBRE O PROJETO
---------------
Este √© um aplicativo Web (PWA) desenvolvido para auxiliar no preparo de caf√© usando o m√©todo "Clever Dripper".
Ele calcula a propor√ß√£o (ratio) de caf√©/√°gua, cronometra as etapas do preparo e salva um hist√≥rico (log) das receitas.

A vers√£o "V2" difere da original por possuir uma integra√ß√£o com o Google Sheets para salvar o hist√≥rico na nuvem, permitindo acesso compartilhado entre m√∫ltiplos dispositivos (celular, computador, tablet) rodando via NAS.

FUNCIONALIDADES
---------------
1. TELA DE SETUP (Calculadora)
   - Inputs: Quantidade de √Ågua (ml) e Quantidade de Caf√© (g).
   - C√°lculo autom√°tico do Ratio (ex: 1:15). Ao mudar √°gua ou caf√©, o ratio atualiza.
   - Bot√£o "Start": Inicia o timer com os par√¢metros definidos.
   - Bot√£o "Quick Log": Pula o timer e vai direto para a tela de salvar (para registrar um caf√© que j√° foi feito).
   - Bot√£o "History": Abre o hist√≥rico de receitas.

2. TELA DE TIMER (Cron√¥metro)
   - Contagem regressiva com etapas visuais:
     a) PREPARAR (Overlay): Contagem regressiva de 5s antes de come√ßar.
     b) POUR (Despejar): 0s a 45s (Despeje a √°gua).
     c) STEEP (Infus√£o): 45s a 2:00 (Aguarde).
     d) DRAWDOWN (Drenagem): 2:00 em diante (Coloque no copo para drenar).
   - O timer conta progressivamente at√© o final.
   - Bot√£o "Finish": Encerra o preparo e vai para a tela de avalia√ß√£o.

3. TELA DE REVIEW (Avalia√ß√£o)
   - Permite registrar detalhes do caf√©:
     - Nome do Gr√£o (ex: Eti√≥pia)
     - Temperatura da √Ågua (¬∞C)
     - Moagem (Clicks/Grind size)
     - Notas de degusta√ß√£o (Campo de texto)
   - Bot√£o "Save Log": Salva na mem√≥ria local E no Google Sheets.
     - Mostra estado de "Saving..." enquanto envia.
   - Bot√£o "Skip": Volta ao in√≠cio sem salvar.

4. TELA DE HISTORY (Hist√≥rico)
   - Lista todas as receitas salvas (buscando do Google Sheets).
   - Mostra data, nome do caf√©, √°gua, p√≥, temperatura, moagem e notas.
   - Bot√£o "Refresh" (üîÑ): Atualiza a lista buscando dados novos da planilha.
   - Bot√£o "Delete" (üóëÔ∏è): Apaga o registro da tela e da planilha Google.

ESTRUTURA T√âCNICA (ARQUITETURA)
-------------------------------
O sistema √© dividido em duas partes principais:

A. FRONTEND (O Site em si)
   - Tecnologia: React + Vite.
   - Estilo: CSS Puro (`index.css`) com tema "Dark Glassmorphism" (Fundo escuro, cart√µes transl√∫cidos, tons de marrom/cinza/dourado).
   - Hospedagem: Roda dentro de um container Docker (Nginx) no NAS.
   - Arquivos principais:
     - `src/App.jsx`: Gerencia a navega√ß√£o entre telas e l√≥gica principal.
     - `src/components/*`: Componentes de cada tela.
     - `src/utils/api.js`: Faz a comunica√ß√£o com o Google.
     - `dist/`: Pasta gerada com o site otimizado para produ√ß√£o.

B. BACKEND (Banco de Dados)
   - Tecnologia: Google Sheets + Google Apps Script.
   - O site n√£o tem banco de dados pr√≥prio. Ele manda os dados para um "Script do Google" que salva numa planilha.
   - Seguran√ßa: O Script √© publicado como "Web App" acess√≠vel publicamente (via URL secreta), permitindo que o NAS salve dados sem precisar de login complexo.

COMO RECRIAR O PROJETO DO ZERO
------------------------------

PASSO 1: O BACKEND (GOOGLE)
1. Crie uma planilha no Google Sheets chamada `CleverLogs`.
2. V√° em Extens√µes > Apps Script.
3. Cole o c√≥digo que est√° no arquivo `GOOGLE_SCRIPT_CODE.js` desta pasta.
   - Este c√≥digo tem duas fun√ß√µes: `doGet` (ler dados) e `doPost` (salvar/deletar).
4. Clique em "Implantar" > "Nova implanta√ß√£o" > Tipo "App da Web".
   - Executar como: "Eu".
   - Quem pode acessar: "Qualquer pessoa".
5. Copie a URL gerada (ex: `https://script.google.com/macros/s/...`).

PASSO 2: O FRONTEND (C√ìDIGO)
1. No arquivo `src/utils/api.js`, substitua a constante `API_URL` pela URL que voc√™ copiou do Google.
2. Instale as depend√™ncias (se estiver no computador): `npm install`.
3. Gere a vers√£o final: `npm run build`.
   - Isso vai criar a pasta `dist` com os arquivos HTML/CSS/JS prontos.

PASSO 3: O DEPLOY (NAS)
1. Copie a pasta do projeto (principalmente a pasta `dist` e o arquivo `docker-compose.yml`) para o NAS.
2. O arquivo `docker-compose.yml` deve usar a imagem `nginx:alpine` e mapear `./dist` para `/usr/share/nginx/html`.
3. No ZimaOS/CasaOS, use a fun√ß√£o "Importar" e selecione o `docker-compose.yml`.
4. O app rodar√° na porta 8090 (ou outra definida).

DICAS E MANUTEN√á√ÉO
------------------
- Se quiser mudar cores: Edite `src/index.css`.
- Se quiser mudar tempos do timer: Edite `src/components/TimerDisplay.jsx` ou `App.jsx`.
- Se a planilha parar de funcionar: Verifique se voc√™ n√£o mudou o nome das colunas ou se a URL do script mudou (acontece se fizer novo deploy sem ser "Nova vers√£o").
- Backup: Mantenha sempre a pasta `src` guardada. A pasta `dist` pode ser gerada a qualquer momento a partir da `src`.

LISTA DE ARQUIVOS ESSENCIAIS (BACKUP)
-------------------------------------
1. `src/` (Todo o c√≥digo fonte)
2. `package.json` (Lista de bibliotecas usadas)
3. `vite.config.js` (Configura√ß√£o do compilador)
4. `docker-compose.yml` (Receita de instala√ß√£o no NAS)
5. `GOOGLE_SCRIPT_CODE.js` (C√≥digo do "servidor" Google)
6. `index.html` (Arquivo base)

Com esses arquivos, voc√™ recria o projeto em qualquer lugar do mundo.
